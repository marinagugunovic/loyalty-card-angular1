<section class="auth">
  <div class="auth__card card">
    <div class="card__inner">
      <div class="badge">CREATE ACCOUNT</div>
      <h2 class="h1">Sign up</h2>
      <p class="muted">Create your loyalty profile in one place.</p>

      <form [formGroup]="form" (ngSubmit)="register()">
        <label class="field">
          <span class="field__label">FULL NAME</span>
          <input class="input" type="text" placeholder="Jane Doe" formControlName="fullName" />
          <small class="error" *ngIf="f['fullName'].touched && f['fullName'].invalid">
            Please enter your full name (min 2 characters).
          </small>
        </label>

        <label class="field">
          <span class="field__label">EMAIL</span>
          <input class="input" type="email" placeholder="you@example.com" formControlName="email" />
          <small class="error" *ngIf="f['email'].touched && f['email'].invalid">
            Please enter a valid email address.
          </small>
        </label>

        <label class="field">
          <span class="field__label">PASSWORD</span>
          <input class="input" type="password" placeholder="••••••••" formControlName="password" />
          <small class="error" *ngIf="f['password'].touched && f['password'].invalid">
            Password must be at least 6 characters.
          </small>
        </label>

        <label class="field">
          <span class="field__label">CONFIRM PASSWORD</span>
          <input class="input" type="password" placeholder="••••••••" formControlName="confirmPassword" />

          <small class="error" *ngIf="f['confirmPassword'].touched && f['confirmPassword'].errors?.['mismatch']">
            Passwords do not match.
          </small>

          <small
            class="error"
            *ngIf="f['confirmPassword'].touched && f['confirmPassword'].invalid && !f['confirmPassword'].errors?.['mismatch']"
          >
            Confirmation must be at least 6 characters.
          </small>
        </label>

        <label class="check">
          <input type="checkbox" formControlName="accept" />
          <span>I agree to the terms &amp; conditions</span>
        </label>

        <small class="error" *ngIf="f['accept'].touched && f['accept'].invalid">
          You must accept the terms.
        </small>

        <div class="auth__footer">
          <a class="auth__link" routerLink="/login">Already have an account?</a>

          <button class="btn btn-primary" type="submit" [disabled]="isSubmitting">
            <span *ngIf="!isSubmitting">Create</span>
            <span *ngIf="isSubmitting">Creating…</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
